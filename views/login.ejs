<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login | GardenGenius</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Epilogue:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900"
    />

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Custom Styles -->
    <style>
      body {
        font-family: Epilogue, "Noto Sans", sans-serif;
      }
    </style>
  </head>

  <body class="bg-[#f8fcf8] min-h-screen flex flex-col">
    <!-- Navbar / Auth Links -->
    

    <!-- Header -->
    <header class="flex items-center justify-between border-b border-[#e7f3e7] px-10 py-3">
      <div class="flex items-center gap-4 text-[#0e1b0e]">
        <div class="size-4">
          <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M44 4H30.6666V17.3334H17.3334V30.6666H4V44H44V4Z" fill="currentColor" />
          </svg>
        </div>
        <h2 class="text-lg font-bold tracking-tight">GardenGenius</h2>
      </div>
    </header>

    <!-- Flash Messages -->
    <% if (error && error.length) { %>
      <div class="flex justify-center items-center px-4 py-2">
        <div class="w-full max-w-md bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
          <%= error %>
        </div>
      </div>
    <% } %>
    
    <% if (success && success.length) { %>
      <div class="flex justify-center items-center px-4 py-2">
        <div class="w-full max-w-md bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
          <%= success %>
        </div>
      </div>
    <% } %>

    <!-- Login Form -->
    <main class="flex justify-center items-start flex-1 px-4 py-8">
      <form action="/login" method="POST" class="w-full max-w-md bg-white rounded-lg shadow-md p-6">
        <h2 class="text-[#0e1b0e] text-2xl font-bold text-center mb-6">Welcome Back</h2>

        <!-- Username -->
        <div class="mb-4">
          <label for="username" class="block text-[#0e1b0e] text-base font-medium mb-2">Username</label>
          <input
            type="text"
            id="username"
            name="username"
            placeholder="Enter your username"
            required
            class="w-full rounded-xl border border-[#d0e7d0] bg-[#f8fcf8] p-[15px] h-14 text-[#0e1b0e] placeholder-[#4e974e] text-base focus:outline-none focus:border-[#4e974e]"
          />
        </div>

        <!-- Password -->
        <div class="mb-6 relative">
          <label for="password" class="block text-[#0e1b0e] text-base font-medium mb-2">Password</label>
          <input
            type="password"
            id="password"
            name="password"
            placeholder="Enter your password"
            required
            class="w-full pr-12 rounded-xl border border-[#d0e7d0] bg-[#f8fcf8] p-[15px] h-14 text-[#0e1b0e] placeholder-[#4e974e] text-base focus:outline-none focus:border-[#4e974e]"
          />
          <!-- Eye Toggle -->
          <span
            class="absolute top-1/2 right-4 transform -translate-y-1/6 text-[#4e974e] cursor-pointer"
            onclick="togglePassword()"
          >
            <i class="fa-solid fa-eye-slash" id="toggleIcon"></i>
          </span>
        </div>

        <!-- Submit Button -->
        <div class="mb-4">
          <button
            type="submit"
            class="w-full h-12 bg-[#14b714] text-white font-bold text-sm rounded-xl hover:bg-[#119f11] transition"
          >
            Login
          </button>
        </div>

        <!-- Signup Redirect -->
        <p class="text-center text-sm text-[#4e974e] underline">
          <a href="/signup">Don't have an account? Sign up</a>
        </p>
      </form>
    </main>

    <!-- Toggle Password Script -->
    <script>
      function togglePassword() {
        const passwordInput = document.getElementById("password");
        const toggleIcon = document.getElementById("toggleIcon");

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          toggleIcon.classList.replace("fa-eye-slash", "fa-eye");
        } else {
          passwordInput.type = "password";
          toggleIcon.classList.replace("fa-eye", "fa-eye-slash");
        }
      }
    </script>
  </body>
</html>